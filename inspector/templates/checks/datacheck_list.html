{% extends "base.html" %}
{% load static i18n %}
{% block title %}Members{% endblock %}

{% block content %}
<div class="container">
  <div class="col-md-12">
    <h4>Checks</h4>
    <div class="table-responsive">

      <table id="checks" class="table table-bordred table-striped">
        <thead>
        <th><input type="checkbox" id="checkall"/></th>
        <th>Code</th>
        <th>Description</th>
        <th>Group</th>
        <th>System</th>
        <th>Weight</th>
        <th>Run</th>
        <th>Edit</th>
        <th>Delete</th>
        </thead>
        <tbody>
        {% for check in datacheck_list %}
        <tr>
          <td><input type="checkbox" class="checkthis"/></td>
          <td>{{ check.code }}</td>
          <td>{{ check.description }}</td>
          <td>{{ check.group }}</td>
          <td>{{ check.left_system }}</td>
          <td>{{ check.weight }}</td>
          <td>
            <p data-placement="top" data-toggle="tooltip" title="Run">
              <button class="btn btn-outline-success btn-xs create-check-run" data-title="Run"
                      data-target="#checkrunCreateModal"
                      data-url="{% url 'checks:checkrun_create' check.id %}">
                <span class="fas fa-play fa-sm"></span></button>
            </p>
          </td>
          <td>
            <p data-placement="top" data-toggle="tooltip" title="Edit">
              <button class="btn btn-outline-primary btn-xs" data-title="Edit" data-toggle="modal" data-target="#edit">
                <span class="fas fa-pencil-alt fa-sm"></span></button>
            </p>
          </td>
          <td>
            <p data-placement="top" data-toggle="tooltip" title="Delete">
              <button class="btn btn-outline-danger btn-xs" data-title="Delete" data-toggle="modal"
                      data-target="#delete">
                <span class="fas fa-trash-alt fa-sm"></span></button>
            </p>
          </td>
        </tr>
        {% endfor %}
        </tbody>
      </table>
    </div>
  </div>
</div>
</div>

<div class="modal fade" tabindex="-1" role="dialog" id="checkrunCreateModal">
  <div class="modal-dialog" role="document">
    <div class="modal-content">

    </div>
  </div>
</div>

{% endblock content %}

{% block javascript %}
{{ block.super }}

<script type="text/javascript">
  $(document).ready(function () {
    $(".create-check-run").each(function () {
        $(this).modalForm({
          formURL: $(this).data('url'),
          modalID: "#checkrunCreateModal"
        });
      }
    )
  });
</script>

{% endblock javascript %}



